= bard 0.7 bytecodes
mikel evins
:toc: preamble
:toclevels: 1

This document describes the Bard 0.7 bytecodes. This instruction set is modeled on Norvig's Scheme from https://github.com/norvig/paip-lisp[Paradigms of Artificial Intelligence Programming].

[cols=".<1m,.^1m,.>4",options="header",]
|===
|Opcode | Value | Description
|NIL    | 0     | Push `nothing` onto the stack
|TRUE   | 1     | Push `true` onto the stack 
|FALSE  | 2     | Push `false` onto the stack
|UNDEF  | 3     | Push `undefined` onto the stack
|ZERO   | 4     | Push `0` onto the stack
|ONE    | 5     | Push `1` onto the stack
|-ONE   | 6     | Push `-1` onto the stack
|TWO    | 7     | Push `2` onto the stack
|HALT   | 8     | Stop execution
|LVAR   | 9     | Fetch a local variable value and push it
|LSET   | 10    | Pop the stack and store the value in a local variable
|GVAR   | 11    | Fetch a global variable value and push it
|GSET   | 12    | Pop the stack and store the value in a global variable
|POP    | 13    | Pop the stack and discard the value
|CONST  | 14    | Push a constant value onto the stack
|JUMP   | 15    | Set the PC to an index
|FJUMP  | 16    | Pop the stack. If the value is false, set the PC to an index
|TJUMP  | 17    | Pop the stack. If the value is true, set the PC to an index
|SAVE   | 18    | 
|RETURN | 19    |
|CALL   | 20    |
|ARGS   | 21    |
|ARGS.  | 22    |
|FUNC   | 23    |
|PRIM   | 24    |
|SETCC  | 25    |
|CC     | 26    |
|READ   | 27    |
|CAR    | 28    |
|CDR    | 29    |
|CADR   | 30    |
|NOT    | 31    |
|LIST1  | 32    |
|COMP   | 33    |
|DISP   | 34    |
|WRITE  | 35    |
|RAND   | 36    |
|+      | 37    |
|-      | 38    |
|*      | 39    |
|/      | 40    |
|<      | 41    |
|>      | 42    |
|<=     | 43    |
|>=     | 44    |
|!=     | 45    |
|=      | 46    |
|CONS   | 47    |
|LIST2  | 48    |
|SETNM  | 49    |
|EQ     | 50    |
|EQL    | 52    |
|EQUAL  | 52    |
|LIST3  | 53    |
|===    
        
