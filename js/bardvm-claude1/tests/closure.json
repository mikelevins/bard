{
  "name": "closure-test",
  "description": "Test lexical closure: ((method (x) (method (y) (+ x y))) 10)(20) = 30",
  "code": [
    ["ARGS", 0],
    ["CONST", 10],
    ["FN", {
      "code": [
        ["ARGS", 1],
        ["FN", {
          "code": [
            ["ARGS", 1],
            ["LVAR", 1, 0],
            ["LVAR", 0, 0],
            ["+"],
            ["RETURN"]
          ]
        }],
        ["RETURN"]
      ]
    }],
    ["CALLJ", 1],
    ["CONST", 20],
    ["CALLJ", 1]
  ],
  "expected": 30
}
