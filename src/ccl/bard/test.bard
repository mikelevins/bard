(protocol Application
          [(apply <Function> & args) ->  [& <Value>])

(define-method apply ((seq <Sequence>) key)
  (nth seq key))

(define-method apply ((m <Mapping>) key)
  (get-key m key))

(categories <fset-sequence> [<Sequence>])

(categories <fset-map> [<Mapping> <Sequence>])

(apply (as <Sequence> { a: 1 b: 2}) 1) => [b: 2]

(apply (as <Mapping> { a: 1 b: 2}) 1) => nothing

(apply { a: 1 b: 2} 1) => nothing

